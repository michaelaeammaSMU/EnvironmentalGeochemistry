---
title: "Ch. 2 Equilibrium Thermodynamics and Kinetics"
output:
  word_document: default
  html_document:
    df_print: paged
date: '2022-06-14'
---
# Equilibrium Thermodynamics
In the real world, systems can exist in several states, *unstable, metastable, and stable*, where an unstable system reacts **spontaneously**, a metastable system requires a minimum **activation energy** to react, and a stable system has reached **equilibrium**. 

#### Free Energy 
The energy of a system approaching equilibrium is measured as **Gibbs free energy** at a constant T and P. Gibbs free energy is calculated for each species to derive the net ΔG (see gibbsReaction)
```{r, message=FALSE}
source("allFunctions.R")
GibbsFreeEnergy <- function(dq,dw,dv,dp,q,w,v,p,t)
{
      ## pull functions from allFunctions.R
      ΔE <- internalEnergy(dq, dw, dv, p)
      print(paste("The change in energy is", ΔE, "."))
      
      ΔH <- systemEnthalpy(dq, dw, dp, dv, p, v)
      print(paste("The change in enthalpy is", ΔH, "."))
      
      ΔS <- systemEntropy(dq,dw,dp,dv,p,v,t)
      print(paste("The change in entropy is", ΔS, "."))
      
      ΔG <- ΔH - t*ΔS
      print(paste("Therefore, the change in Gibbs free energy is", ΔG, "."))
      
      if(ΔG < 0){print("This process is spontaneous.")}
      if(ΔG > 0){print("This process is not spontaneous.")}
      if(ΔG == 0){print("This process is at equilibrium.")}
}
```

### Gibbs Free Energy For a Reaction
To find the total ΔG for a reaction at a given T and P, the total free energies of the reactants are subtracted from that of the reactants.
```{r, message=FALSE}
gibbsReaction <- function(reactant,molesR,productA,molesA,productB,molesB,productC,molesC,Temp,Pres)
{
      E.units("J")
      
      ## extract reactant G
      reactant <- data.frame(subcrt(reactant, T = Temp, P = Pres))
      nameReactant <- paste("reactant$out.", reactant$species.name, ".G",sep ="")
      ΔGr <- round(eval(parse(text = nameReactant))/1000,3)
      
      ## extract product G
      a <- data.frame(subcrt(productA, T = Temp, P = Pres))
      nameA <- paste("a$out.", str_replace(productA, "[\\+\\-\\*]", "."), ".G",sep ="")
      ΔGa <- round(eval(parse(text = nameA))/1000,3)

      b <- data.frame(subcrt(productB, T = Temp, P = Pres))
      nameB <- paste("b$out.", str_replace(productB, "[\\+\\-\\*]", "."), ".G",sep ="")
      ΔGb <- round(eval(parse(text = nameB))/1000,3)
      
      c <- data.frame(subcrt(productC, T = Temp, P = Pres))
      nameC <- paste("c$out.", str_replace(productC, "[\\+\\-\\*]", "."), ".G",sep ="")
      ΔGc <- round(eval(parse(text = nameC))/1000,3)
      
      ## print chemical formula
      cat("REACTION DESCRIPTION")
      cat("  Reactants ⇌ Products\n")
      cat("  ",reactant$species.name, "⇌", molesA, productA,"+", molesB, productB,"+", molesC, productC, "\n",sep=" ")
      
      cat("\nGIBBS FREE ENERGY CALCULATIONS")
      cat("\n  ΔG = Products - Reactants")
      cat("\n  ΔG = (ΔGa + ΔGb + ΔGc) - (ΔGr)\n")
      
      cat("  ΔG = (", ΔGa, "+", ΔGb, "+", ΔGc, ") - (", ΔGr, ")", sep="")
      ΔGtotal <- round(((molesA*ΔGa)+(molesB*ΔGb)+(molesC*ΔGc))-(molesR*ΔGr),3)
      cat("  ΔG =", ΔGtotal, "kJ/mol\n")
      if(ΔGtotal < 0){cat("   This process is spontaneous.\n")}
      if(ΔGtotal > 0){cat("   This process is not spontaneous.\n")}
      if(ΔGtotal == 0){cat("   This process is at equilibrium.\n")}
      return(ΔGtotal)
}
```

### The Equilibrium Constant
(1) The equilibrium constant for a reversible chemical reaction.
(2) The ratio depicting the concentrations when chemical equilibrium is reached, and expresses the extent to which equilibrium has favored in either direction.
```{r, message=FALSE}
equilibriumConstant <- function(reactant,molesR,productA,molesA,productB,molesB,productC,molesC,Temp,Pres)
{
      ΔG <- gibbsReaction(reactant,molesR,productA,molesA,productB,molesB,productC,molesC,Temp,Pres)
      
      logKsp <- round((-1*ΔG)/5.708,3)
      cat("\nK EQUILIBRIUM")
      cat("\n  Ksp = 10^", logKsp)
}

## Use reactant name and product formula
equilibriumConstant(reactant = "gypsum",molesR=1,
                    productA = "Ca+2",molesA=1,
                    productB = "SO4-2",molesB=1,
                    productC = "water", molesC=2,
                    Temp = 25,Pres = 1)
```

### Le Chatelier's Principle
*If a change is imposed on a system at equilibrium, the position of equilibrium will shift in a direction that tends to reduce the change*

How do we account for changes in concentration, pressure, and temperature at equilibrium?
(1) **Changes in concentration**
If a product or reactant is added to a system at equilibrium, the reaction will go inn in the direction that decreases the amount of the added constituent. If a product or reactant is removed from a system at equilibrium, the reaction will go in the direction that increases the amount of removed constituent.

(2) **Changes in pressure**
Case #1 | add or remove a gaseous product or reactant
      • If a product or reactant is added/removed to a system at equilibrium, the reaction will go inn in the direction that                     decreases/increases the amountof the added constituent.
Case #2 | add a non-reactive inert gas
      • Nothing changes, only adding more of the gas of interest would increase it's pressure system
Case #3 | change in volume
      • Decreasing the volume would reduce the number of gas molecules, increasing the volume would increase the number of gas molecules
      
(3) **Changes in temperature**
With increasing temperatures, reactions move in the direction that consumes energy (+ΔH), whereas decreasing temperatures would move in the direction that expels energy (-ΔH)


